[gd_scene load_steps=18 format=4 uid="uid://d1q7xp11tjvtf"]

[ext_resource type="Shader" path="res://distorsio.gdshader" id="1_68mvh"]
[ext_resource type="PackedScene" uid="uid://c3cpiois8vxd3" path="res://scenes/slime.tscn" id="1_lkb1x"]
[ext_resource type="Script" path="res://scripts/tower.gd" id="1_ufjuo"]
[ext_resource type="Texture2D" uid="uid://jyt6p5subqwj" path="res://assets/BackGround/skyBackground.png" id="2_68mvh"]
[ext_resource type="Texture2D" uid="uid://cuwr7ff4m3m7x" path="res://assets/BackGround/clouds.png" id="5_rgnqb"]
[ext_resource type="PackedScene" uid="uid://xkseisetgdhg" path="res://scenes/Flame.tscn" id="6_5ohk7"]
[ext_resource type="Texture2D" uid="uid://c765fi51yphaj" path="res://assets/BackGround/ground.png" id="6_lyxkq"]
[ext_resource type="Texture2D" uid="uid://beafma5jlu5bo" path="res://assets/BackGround/wallBackground.png" id="6_ohqnk"]
[ext_resource type="PackedScene" uid="uid://dmqlieh7sp357" path="res://scenes/wheel.tscn" id="6_shiux"]
[ext_resource type="Texture2D" uid="uid://d2hwi0hkbv8ym" path="res://assets/sky.png" id="7_tipki"]
[ext_resource type="Texture2D" uid="uid://bvw4i8a6itq44" path="res://assets/verd.png" id="8_12d7q"]
[ext_resource type="PackedScene" uid="uid://bcvgmxy5cngw2" path="res://scenes/presure_plate.tscn" id="10_nupkd"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_in81v"]
shader = ExtResource("1_68mvh")
shader_parameter/strength = 0.5

[sub_resource type="ViewportTexture" id="ViewportTexture_gbuvm"]
viewport_path = NodePath("Torre/Scene/SubViewport")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_a8p2b"]
size = Vector2(168, 8)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_wpxm5"]
texture = ExtResource("8_uskqj")
texture_region_size = Vector2i(11, 5)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-5.5, -2.5, 5.5, -2.5, 5.5, 2.5, -5.5, 2.5)

[sub_resource type="TileSet" id="TileSet_f80v3"]
tile_size = Vector2i(11, 5)
physics_layer_0/collision_layer = 4
physics_layer_0/collision_mask = 0
sources/0 = SubResource("TileSetAtlasSource_wpxm5")

[node name="Main" type="Node2D"]

[node name="Torre" type="Node2D" parent="."]
script = ExtResource("1_ufjuo")

[node name="Scene" type="Node2D" parent="Torre"]

[node name="SubViewport" type="SubViewport" parent="Torre/Scene"]
size = Vector2i(88, 120)

[node name="WallBackground" type="Sprite2D" parent="Torre/Scene/SubViewport"]
texture = ExtResource("6_ohqnk")
offset = Vector2(44, 60)

[node name="Sprite2D" type="Sprite2D" parent="Torre/Scene"]
material = SubResource("ShaderMaterial_in81v")
position = Vector2(44, 60)
texture = SubResource("ViewportTexture_gbuvm")

[node name="ParallaxBackground" type="ParallaxBackground" parent="Torre/Scene"]

[node name="SkyBackground" type="Sprite2D" parent="Torre/Scene/ParallaxBackground"]
position = Vector2(44, 60)
texture = ExtResource("2_68mvh")

[node name="ParallaxLayer" type="ParallaxLayer" parent="Torre/Scene/ParallaxBackground"]
motion_scale = Vector2(2, 1)

[node name="Clouds" type="Sprite2D" parent="Torre/Scene/ParallaxBackground/ParallaxLayer"]
position = Vector2(8, 60)
texture = ExtResource("5_rgnqb")

[node name="ParallaxLayer2" type="ParallaxLayer" parent="Torre/Scene/ParallaxBackground"]

[node name="Clouds" type="Sprite2D" parent="Torre/Scene/ParallaxBackground/ParallaxLayer2"]
position = Vector2(-19, 97)
texture = ExtResource("5_rgnqb")

[node name="ParallaxLayer3" type="ParallaxLayer" parent="Torre/Scene/ParallaxBackground"]

[node name="Clouds" type="Sprite2D" parent="Torre/Scene/ParallaxBackground/ParallaxLayer3"]
position = Vector2(100, 43)
texture = ExtResource("5_rgnqb")

[node name="Torre1" type="Node2D" parent="Torre"]
position = Vector2(-40, 0)

[node name="Ground" type="StaticBody2D" parent="Torre/Torre1"]
position = Vector2(84, 116)

[node name="Sprite2D" type="Sprite2D" parent="Torre/Torre1/Ground"]
texture = ExtResource("6_lyxkq")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Torre/Torre1/Ground"]
shape = SubResource("RectangleShape2D_a8p2b")

[node name="TileMapLayer" type="TileMapLayer" parent="Torre/Torre1"]
position = Vector2(0, 2)
tile_map_data = PackedByteArray(0, 0, 0, 0, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 19, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 18, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 17, 0, 0, 0, 0, 0, 0, 0, 0, 0)
tile_set = SubResource("TileSet_f80v3")

[node name="enemy" parent="Torre/Torre1" instance=ExtResource("6_shiux")]
position = Vector2(20, 107)

[node name="Torre2" type="Node2D" parent="Torre"]
position = Vector2(16, 0.5)

[node name="TileMapLayer2" type="TileMapLayer" parent="Torre/Torre2"]
position = Vector2(-56, 1.5)
tile_map_data = PackedByteArray(0, 0, 6, 0, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 0, 19, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 0, 18, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9, 0, 17, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0)
tile_set = SubResource("TileSet_f80v3")

[node name="Ground" type="StaticBody2D" parent="Torre/Torre2"]
position = Vector2(28, 115.5)

[node name="Sprite2D" type="Sprite2D" parent="Torre/Torre2/Ground"]
texture = ExtResource("6_lyxkq")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Torre/Torre2/Ground"]
shape = SubResource("RectangleShape2D_a8p2b")

[node name="Torre3" type="Node2D" parent="Torre"]
position = Vector2(72, 0.5)

[node name="Ground" type="StaticBody2D" parent="Torre/Torre3"]
position = Vector2(-28, 115.5)

[node name="Sprite2D" type="Sprite2D" parent="Torre/Torre3/Ground"]
texture = ExtResource("6_lyxkq")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Torre/Torre3/Ground"]
shape = SubResource("RectangleShape2D_a8p2b")

[node name="TileMapLayer3" type="TileMapLayer" parent="Torre/Torre3"]
position = Vector2(-112, 1.5)
tile_map_data = PackedByteArray(0, 0, 10, 0, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, 0, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 0, 19, 0, 0, 0, 0, 0, 0, 0, 0, 0, 13, 0, 18, 0, 0, 0, 0, 0, 0, 0, 0, 0, 14, 0, 17, 0, 0, 0, 0, 0, 0, 0, 0, 0)
tile_set = SubResource("TileSet_f80v3")

[node name="StaticBody2D" parent="Torre/Torre3" instance=ExtResource("10_nupkd")]
position = Vector2(31, 83.5)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Sky" type="Sprite2D" parent="CanvasLayer"]
position = Vector2(8, 60)
texture = ExtResource("7_tipki")

[node name="Sky2" type="Sprite2D" parent="CanvasLayer"]
position = Vector2(80, 60)
texture = ExtResource("7_tipki")

[node name="slime" parent="." instance=ExtResource("1_lkb1x")]
position = Vector2(44, 55)
slime_scene = ExtResource("1_lkb1x")
